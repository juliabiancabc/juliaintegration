{% extends 'stories_base.html' %}

{% block title %}Badge Catalog{% endblock %}

{% block content %}
<div class="container py-4">
    <h2 class="text-primary mb-4">Badge Catalog</h2>
    <p class="text-muted">All collectible badges. Earn them by completing achievements.</p>
    <div class="mb-3">
        <a href="{{ url_for('stories.gamification.achievements_list') }}" class="btn btn-outline-primary btn-sm">View Achievements</a>
        <span class="ms-2">Sort:</span>
        <a href="{{ url_for('stories.gamification.badge_catalog', order='sort_order') }}" class="btn btn-sm {% if order_by == 'sort_order' %}btn-primary{% else %}btn-link{% endif %}">Default</a>
        <a href="{{ url_for('stories.gamification.badge_catalog', order='title') }}" class="btn btn-sm {% if order_by == 'title' %}btn-primary{% else %}btn-link{% endif %}">Aâ€“Z</a>
        <a href="{{ url_for('stories.gamification.badge_catalog', order='newest') }}" class="btn btn-sm {% if order_by == 'newest' %}btn-primary{% else %}btn-link{% endif %}">Newest</a>
    </div>
    <div class="row g-3">
        {% for badge in badges %}
        <div class="col-md-4 col-lg-3">
            <div class="card h-100">
                <div class="card-body text-center">
                    {% if badge.icon_url %}
                    <img src="{{ badge.icon_url }}" alt="{{ badge.title }}" class="rounded mb-2" style="max-height: 64px;">
                    {% else %}
                    <div class="bg-light rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 64px; height: 64px;">
                        <i class="bi bi-award text-primary fs-2"></i>
                    </div>
                    {% endif %}
                    <h6 class="card-title">{{ badge.title }}</h6>
                    {% if badge.description %}<p class="card-text small text-muted">{{ badge.description }}</p>{% endif %}
                </div>
            </div>
        </div>
        {% else %}
        <div class="col-12"><p class="text-muted">No badges yet.</p></div>
        {% endfor %}
    </div>
</div>
{% endblock %}
